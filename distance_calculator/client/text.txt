In client.go (Distance Calculator Service)
Step-by-Step Breakdown
Step 1: Convert Distance Data into JSON

b, err := json.Marshal(distance) 
Converts the types.Distance struct into a JSON format.
Step 2: Create an HTTP Request

req, err := http.NewRequest("POST", c.Endpoint+"/aggregate", bytes.NewReader(b))
Creates a POST request to send the distance data to the Aggregator Serviceâ€™s /aggregate endpoint.
Step 3: Send the Request

resp, err := http.DefaultClient.Do(req)
Uses Goâ€™s http.DefaultClient to send the HTTP request.
Step 4: Check if Aggregator Service Responds Correctly

if resp.StatusCode != http.StatusOK {
    return fmt.Errorf("service responded with non-200 status: %d", resp.StatusCode)
}
If the response is not 200 OK, it returns an error
ğŸ“Œ Full Flow (Diagram)

1ï¸âƒ£ Distance Calculator Service (Kafka Consumer)
   â†’ Reads GPS data from Kafka.
   â†’ Calculates distance.
   â†’ Calls client.AggregateInvoice(distance).

2ï¸âƒ£ Client Package (Distance Calculator Service)
   â†’ Converts distance to JSON.
   â†’ Sends HTTP POST to Aggregator Service (`/aggregate`).

3ï¸âƒ£ Aggregator Service (HTTP Server)
   â†’ Receives HTTP request on `/aggregate`.
   â†’ Decodes JSON data.
   â†’ Calls AggregateDistance(distance).

4ï¸âƒ£ Storage (Aggregator Service)
   â†’ Stores the distance in memory.
   â†’ Returns HTTP 200 OK.
